{% extends 'layout.html' %}
{% block title %}
Vehicle-P | Registration
{% endblock %}
{% block styles %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<link rel="stylesheet" href="/static/css/style_for_login&register.css">
{% endblock %}
{% block main_content %}
<div class="container-fluid mt-3">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <div class="card p-4">
                <h2 class="text-center mb-4">Sign Up</h2>
                <form method="POST" action="{{ url_for('auth.sign_up') }}">

                    {{ form.hidden_tag() }}
                    
                    <div class="form-floating mb-3 position-relative">
                        {{ form.full_name(class="form-control", placeholder="Full Name" )}}
                        {{ form.full_name.label() }}
                        <i class="bi bi-person-fill position-absolute top-50 end-0 translate-middle-y me-3 fs-3"></i>
                    </div>
                    <div class="form-floating mb-3 position-relative">
                        {{ form.email(class="form-control", placeholder="example@gmail.com" )}}
                        {{ form.email.label() }}

                        <i
                            class="bi bi-envelope position-absolute top-50 end-0 translate-middle-y me-3 fs-3 fw-bold"></i>
                    </div>
                    <div class="form-floating mb-3 position-relative">
                        {{ form.password_hash(class="form-control", id="password", placeholder="Password" )}}
                        {{ form.password_hash.label() }}
                        <i class="bi bi-eye-slash position-absolute top-50 end-0 translate-middle-y me-3 fs-3 fw-bold"
                            id="togglePassword" style="cursor: pointer"></i>
                    </div>
                    <div class="form-floating mb-3">
                        {{ form.confirm_password(class="form-control", placeholder="Confirm Password")}}
                        {{ form.confirm_password.label() }}
                    </div>
                    <div class="form-floating mb-3 position-relative">
                        {{ form.phone_number(class="form-control", placeholder="Phone Number" )}}
                        {{ form.phone_number.label() }}
                        <i class="bi bi-telephone-fill position-absolute top-50 end-0 translate-middle-y me-3 fs-3"></i>
                    </div>
                    <div class="form-floating mb-3 position-relative">
                        {{ form.address(class="form-control", placeholder="Address" )}}
                        {{ form.address.label() }}
                    </div>
                    <div class="form-floating mb-3 position-relative">
                        {{ form.pin_code(class="form-control", placeholder="Pin Code" )}}
                        {{ form.pin_code.label() }}
                    </div>
                    {{ form.submit(class="btn btn-primary w-100")}}
                    <div class="text-center mt-3">
                        <p class="mb-0">
                            Already have an account? <a href="{{ url_for('auth.login') }}"
                                class="fs-5 fw-medium text-nowrap">Login
                                here</a>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    const togglePassword = document.querySelector("#togglePassword");
    const password = document.querySelector("#password");

    togglePassword.addEventListener("click", function () {
        const type =
            password.getAttribute("type") === "password" ? "text" : "password";
        password.setAttribute("type", type);

        this.classList.toggle("bi-eye");
        this.classList.toggle("bi-eye-slash");
    });
</script>
{% endblock %}